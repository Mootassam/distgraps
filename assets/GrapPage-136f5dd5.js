import{m as a,n as J,u as d,h as A,r as m,k as L,l as p,p as T,i as Q,j as s,o as V}from"./index-101b4caa.js";/* empty css               */import{L as W}from"./LoadingModal-25ca6498.js";import{D as R}from"./Dates-7d8815b4.js";import{A as Z}from"./Amount-1793c2f3.js";import{u as ss}from"./useDispatch-cb9e2080.js";const l=e=>e.product,es=a([l],e=>e.loading),is=a([l],e=>e.exportLoading),g=a([l],e=>e.rows),cs=a([l],e=>e.sorter||{}),ts=a([l],e=>{const c=e.sorter;if(!c||!c.field)return null;let t=c.order==="descend"?"DESC":"ASC";return`${c.field}_${t}`}),os=a([l],e=>e.filter),as=a([l],e=>e.rawFilter),rs=a([l],e=>e.pagination.pageSize),ls=a([l],e=>{const c=e.pagination;return!c||!c.pageSize?0:((c.current||1)-1)*c.pageSize}),P=a([l],e=>e.selectedKeys),ns=a([l,g],(e,c)=>c.filter(t=>e.selectedKeys.includes(t.id))),ds=a([g,P],(e,c)=>e.length===c.length),F={selectLoading:es,selectRows:g,selectOrderBy:ts,selectLimit:rs,selectFilter:os,selectOffset:ls,selectSelectedKeys:P,selectSelectedRows:ns,selectExportLoading:is,selectRawFilter:as,selectIsAllSelected:ds,selectSorter:cs},ms="/Audio/slots.mp3",j=79,h=9,E=100,gs=()=>{var f,y,S,C,k,w;const e=J(),c=ss(),t=d(A.selectCurrentUser),i=d(F.selectRows),D=d(F.selectLoading),[U,_]=m.useState(!1),[N,x]=m.useState(!1),M=d(L.selectCountRecord),O=d(L.selectError),Y=m.useCallback(()=>{c(p.doFetch()),c(T.doFetch()),c(Q.doRefreshCurrentUser())},[c]),$=m.useCallback(async(o,n=0)=>{const r=(n+2)*h+Math.round(Math.random()*h),v=getComputedStyle(o),u=parseFloat(v["background-position-y"]),H=(u+r*j)%(h*j);return o.style.transition=`background-position-y ${(8+1*r)*E}ms cubic-bezier(.41,-0.01,.63,1.09)`,o.style.backgroundPositionY=`${u+r*j}px`,await new Promise(X=>setTimeout(X,(8+1*r)*E+n*150)),o.style.transition="none",o.style.backgroundPositionY=`${H}px`,r%h},[]),B=async()=>{try{if(x(!0),await c(p.doCheck()),O)return;new Audio(ms).play();const n=document.querySelectorAll(".slots > .reel");await Promise.all(Array.from(n).map((v,u)=>$(v,u)));const r=document.querySelector(".borders");r&&(r.classList.add("win1"),await c(T.doFetch()),setTimeout(()=>{_(!0)},2e3)),setTimeout(()=>{r&&r.classList.remove("win1")},2e3),x(!1)}catch(o){console.log(o),x(!1)}},z=()=>{_(!1)},[b]=m.useState(R.Number());m.useEffect(()=>{c(p.doCount())},[c]);const I=(o,n)=>(parseFloat(o)*parseFloat(n)/100).toFixed(3),K=d(A.selectCurrentUser),q=()=>{const o={number:b,product:i==null?void 0:i.id,status:"completed",user:K.id};c(V.doCreate(o)),_(!1)},G=o=>{e.push(o)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"app__grappage",children:[s.jsx("div",{className:"online__service",children:s.jsx("h4",{children:"Grap"})}),s.jsxs("div",{className:"grap__order",children:[s.jsxs("div",{className:"order__top",children:[s.jsxs("div",{className:"first__order",children:[s.jsxs("div",{className:"vip__title",children:[" ",(f=t==null?void 0:t.vip)==null?void 0:f.title]}),s.jsxs("div",{children:[s.jsx("label",{className:"vip__commission",children:"Commission Rate: "}),s.jsxs("label",{className:"comission",children:[(y=t==null?void 0:t.vip)==null?void 0:y.comisionrate,"%"]})]})]}),s.jsx("div",{className:"second__order",children:s.jsx("div",{children:s.jsx("span",{className:"exclusive__channel",children:"Exclusive channel for exclsuive members"})})})]}),s.jsx("div",{className:"borders",children:s.jsxs("div",{className:"slots",children:[s.jsx("div",{className:"reel"}),s.jsx("div",{className:"reel"}),s.jsx("div",{className:"reel"})]})}),s.jsx("div",{style:{paddingTop:10},children:s.jsx("span",{className:"exclusive__chaneels",children:"Exclusive channel for exclsuive members"})})]}),s.jsxs("div",{className:"button__grap",children:[s.jsx("button",{className:"button__upgrade",onClick:()=>G("/online"),children:"Deposit Upgrade"}),s.jsx("button",{className:`grap ${N?"__disabled":""}`,onClick:()=>B(),disabled:N,children:"Automatic grab"})]}),s.jsxs("div",{className:"order__comission",children:[s.jsxs("div",{className:"today__achievements",children:[s.jsx("div",{className:"comission__title",children:"Today's achievements"}),s.jsx("div",{className:"achivemnts__refreshe",children:s.jsx("i",{className:"fa-solid fa-rotate-right click",onClick:()=>Y()})})]}),s.jsxs("div",{className:"achievements__group",children:[s.jsxs("div",{className:"group__comission",children:[s.jsx("div",{className:"comission__text",children:"Comission"}),s.jsxs("div",{className:"comission__value",children:[(S=t==null?void 0:t.vip)==null?void 0:S.comisionrate,"%"]})]}),s.jsxs("div",{className:"group__comission",children:[s.jsx("div",{className:"comission__text",children:" Availbale Balance "}),s.jsx("div",{className:"comission__value",children:Z.Dollar(t==null?void 0:t.balance)})]}),s.jsxs("div",{className:"group__comission",children:[s.jsx("div",{className:"comission__text",children:"Orders Completed"}),s.jsxs("div",{className:"comission__value",children:[" ",M]})]}),s.jsxs("div",{className:"group__comission",children:[s.jsx("div",{className:"comission__text",children:"Total Orders"}),s.jsx("div",{className:"comission__value",children:(C=t==null?void 0:t.vip)==null?void 0:C.dailyorder})]})]}),s.jsx("div",{className:"comission__smallmessage",children:"A higher rank member can unlock more orders and get more commission"})]}),s.jsxs("div",{className:"rules__description",children:[s.jsx("div",{className:"rules__title",children:"Rules Description"}),s.jsxs("ul",{className:"rules__list",children:[s.jsx("li",{children:"(1) Every members from this room be able to grap 55 orders per day"}),s.jsx("li",{children:"(2) The commission of the purchase would be 0.28% of each order amount"}),s.jsx("li",{children:"(3) The system automatic dispatch the products throught the cloud."}),s.jsx("li",{children:"(4) if the order is not confirmed and submitted bu the member after the product successfully dispatch, he/she might not be able to continue to grab the orders. The member need to process with the previous order to continue with the task."})]})]}),D&&s.jsx(W,{}),U&&s.jsx("div",{className:"modal__grap",children:s.jsx("div",{className:"modal__product",children:s.jsxs("div",{className:"single__product",children:[s.jsx("div",{className:"single__header",children:(k=i==null?void 0:i.vip)==null?void 0:k.title}),s.jsxs("div",{className:"order__time",children:[s.jsxs("div",{children:["Order Time: ",R.current()]}),s.jsxs("div",{children:["Order Number: N",b]})]}),s.jsx("div",{className:"badge__ pending",children:s.jsx("label",{children:"Pending"})}),s.jsxs("div",{className:"product__image",children:[s.jsx("div",{className:"image__",children:s.jsx("img",{src:(w=i==null?void 0:i.photo[0])==null?void 0:w.downloadUrl,alt:""})}),s.jsxs("div",{className:"product__detail",children:[s.jsx("div",{className:"detail__name",children:i==null?void 0:i.title}),s.jsxs("div",{className:"detail__price",children:[s.jsxs("div",{children:[" ",i==null?void 0:i.amount]}),s.jsx("div",{children:"X 1"})]})]})]}),s.jsxs("div",{className:"bottom__cadre",children:[s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Total order amount"}),s.jsxs("div",{children:[i==null?void 0:i.amount," USDT"]})]}),s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Commission"}),s.jsxs("div",{children:[i==null?void 0:i.commission,"%"]})]}),s.jsxs("div",{className:"cadre__detail",children:[s.jsx("div",{children:"Estimated return"}),s.jsxs("div",{children:[I(i==null?void 0:i.amount,i==null?void 0:i.commission)," USDT"]})]})]}),s.jsxs("div",{className:"bottom__submit",children:[s.jsx("div",{className:"submit__ligne"}),s.jsxs("div",{className:"sumbit__buttons",children:[s.jsx("div",{className:"cancel__product",onClick:()=>z(),children:"Cancel"}),s.jsx("div",{className:"submit__product",onClick:()=>q(),children:"Submit"})]})]})]})})})]})})};export{gs as default};
